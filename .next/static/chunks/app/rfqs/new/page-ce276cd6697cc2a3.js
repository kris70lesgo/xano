(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[458],{5590:(e,a,r)=>{"use strict";r.d(a,{A:()=>s});var t=r(95155);r(12115);let s=e=>{let{label:a,error:r,helperText:s,className:l="",...n}=e;return(0,t.jsxs)("div",{className:"w-full",children:[a&&(0,t.jsx)("label",{className:"block text-sm font-semibold text-dark mb-2",children:a}),(0,t.jsx)("input",{className:"\n          w-full px-4 py-3 rounded-lg border-2 \n          ".concat(r?"border-red-500":"border-gray-200"," \n          focus:outline-none focus:border-primary \n          transition-colors duration-200\n          placeholder:text-gray-400\n          disabled:bg-gray-50 disabled:cursor-not-allowed\n          ").concat(l,"\n        "),...n}),r&&(0,t.jsx)("p",{className:"mt-2 text-sm text-red-600",children:r}),s&&!r&&(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:s})]})}},17684:(e,a,r)=>{Promise.resolve().then(r.bind(r,64030))},20508:(e,a,r)=>{"use strict";r.d(a,{A:()=>t});let t=(0,r(71847).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},23664:(e,a,r)=>{"use strict";r.d(a,{A:()=>t});let t=(0,r(71847).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},29643:(e,a,r)=>{"use strict";r.d(a,{A:()=>m});var t=r(95155);r(12115);var s=r(52619),l=r.n(s),n=r(20063),i=r(56154),o=r(85998),d=r(20508);let c=e=>{let{onMenuClick:a}=e,r=(0,n.usePathname)();return(0,t.jsx)("header",{className:"fixed top-0 left-0 right-0 h-16 bg-white border-b border-gray-200 z-40 shadow-sm",children:(0,t.jsxs)("div",{className:"max-w-[1600px] mx-auto h-full px-6 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-8",children:[(0,t.jsxs)(l(),{href:"/dashboard",className:"flex items-center gap-2 group",children:[(0,t.jsx)(i.A,{className:"w-6 h-6 text-primary fill-primary group-hover:rotate-12 transition-transform"}),(0,t.jsx)("span",{className:"text-xl font-serif font-bold text-dark",children:"Tendr"})]}),(0,t.jsx)("nav",{className:"hidden md:flex items-center gap-6",children:[{name:"Dashboard",href:"/dashboard"},{name:"Proposals",href:"/proposals"},{name:"Calendar",href:"/calendar"},{name:"Pricing Engine",href:"/pricing"},{name:"Settings",href:"/settings"}].map(e=>(0,t.jsx)(l(),{href:e.href,className:"text-sm font-medium transition-colors ".concat(r===e.href?"text-primary":"text-gray-600 hover:text-dark"),children:e.name},e.name))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("button",{className:"p-2 text-gray-400 hover:text-primary transition-colors relative",children:[(0,t.jsx)(o.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"absolute top-1.5 right-1.5 w-1.5 h-1.5 bg-primary rounded-full"})]}),(0,t.jsx)("div",{className:"h-8 w-[1px] bg-gray-200 mx-1"}),(0,t.jsx)("div",{className:"flex items-center gap-3 pl-2",children:(0,t.jsx)("div",{className:"w-9 h-9 bg-primary/10 rounded-full flex items-center justify-center text-primary",children:(0,t.jsx)(d.A,{className:"w-5 h-5"})})})]})]})})};function m(e){let{children:a}=e;return(0,t.jsxs)("div",{className:"min-h-screen bg-cream font-sans text-dark",children:[(0,t.jsx)(c,{}),(0,t.jsx)("main",{className:"pt-24 pb-12 px-6",children:(0,t.jsx)("div",{className:"max-w-[1600px] mx-auto",children:a})})]})}},31166:(e,a,r)=>{"use strict";r.d(a,{A:()=>l});var t=r(95155);r(12115);var s=r(35299);let l=e=>{let{variant:a="primary",size:r="md",isLoading:l=!1,disabled:n,children:i,className:o="",...d}=e;return(0,t.jsxs)("button",{className:"".concat("inline-flex items-center justify-center font-semibold rounded-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2"," ").concat({primary:"bg-primary text-white hover:bg-[#E55A2B] shadow-lg shadow-red-200 hover:shadow-xl hover:scale-105 active:scale-95 focus:ring-primary",secondary:"bg-dark text-white hover:bg-gray-800 shadow-lg shadow-gray-200 hover:scale-105 active:scale-95 focus:ring-dark",outline:"border-2 border-dark text-dark hover:bg-dark hover:text-white focus:ring-dark",ghost:"text-dark hover:bg-gray-100 focus:ring-gray-300",danger:"bg-red-600 text-white hover:bg-red-700 shadow-lg shadow-red-300 focus:ring-red-500"}[a]," ").concat({sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"}[r]," ").concat(o),disabled:n||l,...d,children:[l&&(0,t.jsx)(s.A,{className:"w-4 h-4 mr-2 animate-spin"}),i]})}},35299:(e,a,r)=>{"use strict";r.d(a,{A:()=>t});let t=(0,r(71847).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},35626:(e,a,r)=>{"use strict";r.d(a,{A:()=>t});let t=(0,r(71847).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},47972:(e,a,r)=>{"use strict";r.d(a,{A:()=>s});var t=r(95155);r(12115);let s=e=>{let{children:a,className:r="",variant:s="default",statusColor:l,hover:n=!0}=e;return(0,t.jsx)("div",{className:"\n        ".concat("bg-white rounded-lg border transition-all duration-300","\n        ").concat({default:"border-gray-200 shadow-sm",status:"border-gray-200 shadow-sm",metric:"border-gray-100 shadow-md"}[s],"\n        ").concat(n?"hover:shadow-lg hover:-translate-y-1":"","\n        ").concat(l?({blue:"border-l-4 border-l-blue-400",orange:"border-l-4 border-l-primary",green:"border-l-4 border-l-green-500",gray:"border-l-4 border-l-gray-300",red:"border-l-4 border-l-red-500"})[l]:"","\n        ").concat(r,"\n      "),children:a})}},64030:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>g});var t=r(95155),s=r(12115),l=r(20063),n=r(29643),i=r(47972),o=r(31166),d=r(5590),c=r(35626),m=r(23664),x=r(89715),h=r(35299);let u=(0,r(71847).A)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);function g(){let e=(0,l.useRouter)(),[a,r]=(0,s.useState)(!1),[g,b]=(0,s.useState)(!1),[p,y]=(0,s.useState)("email"),[j,f]=(0,s.useState)({emailContent:"",clientName:"",clientEmail:"",projectType:"",budgetMin:"",budgetMax:"",timeline:"",scope:""}),v=async()=>{if(j.emailContent.trim()){b(!0);try{console.log("Parsing email with AI...");let e=await fetch("/api/parse-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email_body:j.emailContent,email_subject:"RFQ Request"})});if(console.log("Parse response:",e.status,e.statusText),e.ok){let a=await e.json();if(console.log("Parsed data:",a),a.success)f(e=>{var r,t,s,l,n,i,o,d,c,m,x;return{...e,clientName:(null==(r=a.parsed_data)?void 0:r.client_name)||"",clientEmail:(null==(t=a.parsed_data)?void 0:t.client_email)||"",projectType:(null==(s=a.parsed_data)?void 0:s.project_type)||"",budgetMin:(null==(i=a.parsed_data)||null==(n=i.budget_range)||null==(l=n.min)?void 0:l.toString())||"",budgetMax:(null==(c=a.parsed_data)||null==(d=c.budget_range)||null==(o=d.max)?void 0:o.toString())||"",timeline:(null==(m=a.parsed_data)?void 0:m.timeline)||"",scope:(null==(x=a.parsed_data)?void 0:x.scope_of_work)||""}}),y("manual");else throw Error(a.error||"Parsing failed")}else{let a=await e.json();throw Error(a.error||"API request failed")}}catch(a){console.error("AI parsing error:",a);let e=a instanceof Error?a.message:"Unknown error";alert("Failed to parse email: ".concat(e,"\n\nPlease check your OpenRouter API key and try again, or use manual entry."))}finally{b(!1)}}},N=async a=>{a.preventDefault(),r(!0);try{await new Promise(e=>setTimeout(e,1e3)),e.push("/dashboard")}catch(e){console.error("Error creating RFQ:",e),alert("Failed to create RFQ")}finally{r(!1)}};return(0,t.jsx)(n.A,{children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,t.jsxs)(o.A,{variant:"ghost",size:"sm",onClick:()=>e.push("/dashboard"),children:[(0,t.jsx)(c.A,{className:"w-5 h-5 mr-2"}),"Back"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-dark",children:"Create New RFQ"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Parse email with AI or enter details manually"})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,t.jsxs)("button",{onClick:()=>y("email"),className:"flex-1 p-4 rounded-xl border-2 transition-all ".concat("email"===p?"border-primary bg-primary/5":"border-gray-200 hover:border-gray-300"),children:[(0,t.jsx)(m.A,{className:"w-6 h-6 mx-auto mb-2 ".concat("email"===p?"text-primary":"text-gray-400")}),(0,t.jsx)("div",{className:"font-semibold text-dark",children:"Parse Email with AI"}),(0,t.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Let AI extract details"})]}),(0,t.jsxs)("button",{onClick:()=>y("manual"),className:"flex-1 p-4 rounded-xl border-2 transition-all ".concat("manual"===p?"border-primary bg-primary/5":"border-gray-200 hover:border-gray-300"),children:[(0,t.jsx)(x.A,{className:"w-6 h-6 mx-auto mb-2 ".concat("manual"===p?"text-primary":"text-gray-400")}),(0,t.jsx)("div",{className:"font-semibold text-dark",children:"Manual Entry"}),(0,t.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Enter details yourself"})]})]}),(0,t.jsxs)("form",{onSubmit:N,children:["email"===p&&(0,t.jsxs)(i.A,{className:"p-6 mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-dark mb-4",children:"Paste Email Content"}),(0,t.jsx)("textarea",{value:j.emailContent,onChange:e=>f({...j,emailContent:e.target.value}),placeholder:"Paste the RFQ email content here...",className:"w-full h-64 px-4 py-3 rounded-lg border-2 border-gray-200 focus:outline-none focus:border-primary transition-colors resize-none font-mono text-sm"}),(0,t.jsx)(o.A,{type:"button",variant:"primary",onClick:v,disabled:!j.emailContent.trim()||g,className:"mt-4",children:g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.A,{className:"w-5 h-5 mr-2 animate-spin"}),"Parsing with AI..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u,{className:"w-5 h-5 mr-2"}),"Parse with AI"]})})]}),"manual"===p&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.A,{className:"p-6 mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-dark mb-4",children:"Client Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Client Name *"}),(0,t.jsx)(d.A,{value:j.clientName,onChange:e=>f({...j,clientName:e.target.value}),placeholder:"John Smith",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Client Email *"}),(0,t.jsx)(d.A,{type:"email",value:j.clientEmail,onChange:e=>f({...j,clientEmail:e.target.value}),placeholder:"john@example.com",required:!0})]})]})]}),(0,t.jsxs)(i.A,{className:"p-6 mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-dark mb-4",children:"Project Details"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Project Type *"}),(0,t.jsx)(d.A,{value:j.projectType,onChange:e=>f({...j,projectType:e.target.value}),placeholder:"Kitchen Renovation, Plumbing Repair, etc.",required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Budget Min ($)"}),(0,t.jsx)(d.A,{type:"number",value:j.budgetMin,onChange:e=>f({...j,budgetMin:e.target.value}),placeholder:"5000"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Budget Max ($)"}),(0,t.jsx)(d.A,{type:"number",value:j.budgetMax,onChange:e=>f({...j,budgetMax:e.target.value}),placeholder:"15000"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Timeline"}),(0,t.jsx)(d.A,{value:j.timeline,onChange:e=>f({...j,timeline:e.target.value}),placeholder:"2-3 weeks, ASAP, etc."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Scope of Work *"}),(0,t.jsx)("textarea",{value:j.scope,onChange:e=>f({...j,scope:e.target.value}),placeholder:"Describe the work to be done...",className:"w-full h-32 px-4 py-3 rounded-lg border-2 border-gray-200 focus:outline-none focus:border-primary transition-colors resize-none",required:!0})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(o.A,{type:"button",variant:"outline",onClick:()=>e.push("/dashboard"),className:"flex-1",children:"Cancel"}),(0,t.jsx)(o.A,{type:"submit",variant:"primary",disabled:a,className:"flex-1",children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.A,{className:"w-5 h-5 mr-2 animate-spin"}),"Creating..."]}):"Create RFQ"})]})]})]})]})})}},85998:(e,a,r)=>{"use strict";r.d(a,{A:()=>t});let t=(0,r(71847).A)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},89715:(e,a,r)=>{"use strict";r.d(a,{A:()=>t});let t=(0,r(71847).A)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])}},e=>{e.O(0,[237,441,255,358],()=>e(e.s=17684)),_N_E=e.O()}]);